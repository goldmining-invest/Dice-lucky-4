<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Dice Number - Win up to 10,000 PKR!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: rgba(15, 12, 41, 0.9);
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 2px solid #fdbb2d;
            position: relative;
            z-index: 1;
        }
        
        /* Animated Background Elements */
        .floating-dice {
            position: absolute;
            font-size: 2rem;
            opacity: 0.3;
            z-index: 0;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }
        
        header {
            text-align: center;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 3px solid #fdbb2d;
            position: relative;
        }
        
        h1 {
            font-size: 3.2rem;
            background: linear-gradient(to right, #fdbb2d, #ff5e62);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .tagline {
            font-size: 1.3rem;
            color: #ddd;
            font-weight: 300;
        }
        
        .prizes {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .prize-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            width: 250px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .prize-card:before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #fdbb2d, #ff5e62, #00dbde);
            z-index: -1;
            border-radius: 17px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .prize-card:hover:before {
            opacity: 1;
        }
        
        .prize-card:hover {
            transform: translateY(-10px);
        }
        
        .prize-card h3 {
            color: #fdbb2d;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }
        
        .prize-card .amount {
            font-size: 2.2rem;
            font-weight: bold;
            color: #00dbde;
            margin-bottom: 8px;
        }
        
        .game-area {
            background: linear-gradient(to bottom, rgba(26, 26, 46, 0.8), rgba(22, 33, 62, 0.8));
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid rgba(253, 187, 45, 0.3);
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .dice-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .dice {
            width: 100px;
            height: 100px;
            background-color: white;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            overflow: hidden;
        }
        
        .dice-face {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .dice-dot {
            width: 20px;
            height: 20px;
            background-color: #1a1a2e;
            border-radius: 50%;
            position: absolute;
        }
        
        /* Dice face patterns */
        .dot-1 { transform: translate(-50%, -50%); top: 50%; left: 50%; }
        
        .dot-2 { top: 20%; left: 20%; }
        .dot-3 { bottom: 20%; right: 20%; }
        
        .dot-4 { top: 20%; left: 20%; }
        .dot-5 { top: 20%; right: 20%; }
        .dot-6 { bottom: 20%; left: 20%; }
        .dot-7 { bottom: 20%; right: 20%; }
        
        .dot-8 { top: 20%; left: 50%; transform: translateX(-50%); }
        .dot-9 { bottom: 20%; left: 50%; transform: translateX(-50%); }
        .dot-10 { top: 50%; left: 20%; transform: translateY(-50%); }
        .dot-11 { top: 50%; right: 20%; transform: translateY(-50%); }
        
        .rolling {
            animation: roll 0.8s ease-in-out infinite;
        }
        
        @keyframes roll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .number-selection {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 25px 0;
            gap: 15px;
        }
        
        .number-btn {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            color: white;
            border: 2px solid #00dbde;
            font-size: 1.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .number-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #00dbde;
        }
        
        .number-btn.selected {
            background: linear-gradient(to right, #fdbb2d, #ff5e62);
            color: #1a1a2e;
            transform: scale(1.1);
            box-shadow: 0 0 25px #fdbb2d;
            border-color: #fdbb2d;
        }
        
        .selected-number-display {
            text-align: center;
            margin: 20px 0;
            font-size: 1.3rem;
            color: #ddd;
        }
        
        .selected-number-display span {
            font-weight: bold;
            color: #fdbb2d;
            font-size: 2rem;
            margin-left: 10px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .game-btn {
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 220px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .play-btn {
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }
        
        .play-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(0, 176, 155, 0.5);
        }
        
        .play-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .deposit-btn {
            background: linear-gradient(to right, #ff512f, #dd2476);
            color: white;
        }
        
        .deposit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(255, 81, 47, 0.5);
        }
        
        .deposit-area {
            background: linear-gradient(to bottom, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            border: 2px solid rgba(0, 219, 222, 0.3);
            display: none;
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 10px;
            color: #fdbb2d;
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .input-group input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #555;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #00dbde;
            box-shadow: 0 0 15px rgba(0, 219, 222, 0.5);
        }
        
        .input-group input:read-only {
            background-color: rgba(255, 255, 255, 0.05);
            color: #aaa;
        }
        
        .processing {
            text-align: center;
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(to right, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border-radius: 15px;
            border: 2px solid rgba(253, 187, 45, 0.5);
            display: none;
        }
        
        .processing h3 {
            color: #fdbb2d;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .processing p {
            margin: 10px 0;
            color: #ddd;
        }
        
        .countdown {
            font-size: 2.5rem;
            font-weight: bold;
            color: #00dbde;
            margin: 20px 0;
        }
        
        .progress-container {
            width: 100%;
            height: 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(to right, #00b09b, #96c93d);
            border-radius: 10px;
            transition: width 1s linear;
        }
        
        .result {
            text-align: center;
            margin: 25px 0;
            padding: 30px;
            border-radius: 15px;
            font-size: 1.4rem;
            font-weight: bold;
            display: none;
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .win {
            background: linear-gradient(145deg, rgba(0, 176, 155, 0.2), rgba(150, 201, 61, 0.2));
            border: 3px solid #00b09b;
            color: #96c93d;
        }
        
        .lose {
            background: linear-gradient(145deg, rgba(221, 36, 118, 0.2), rgba(255, 126, 95, 0.2));
            border: 3px solid #dd2476;
            color: #ff7e5f;
        }
        
        .telegram-claim {
            background: linear-gradient(145deg, rgba(0, 136, 204, 0.2), rgba(0, 183, 241, 0.2));
            border: 3px solid #0088cc;
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            text-align: left;
        }
        
        .telegram-claim h4 {
            color: #0088cc;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .telegram-input {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .telegram-input input {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #0088cc;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        
        .telegram-input button {
            padding: 12px 20px;
            background: #0088cc;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .telegram-input button:hover {
            background: #0077b3;
        }
        
        .rules {
            margin-top: 35px;
            padding: 25px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 15px;
            border: 2px solid rgba(253, 187, 45, 0.3);
        }
        
        .rules h3 {
            color: #fdbb2d;
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-align: center;
        }
        
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .rule-item {
            background: rgba(22, 33, 62, 0.5);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #00dbde;
        }
        
        .rule-item h4 {
            color: #fdbb2d;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 2px solid rgba(253, 187, 45, 0.3);
            color: #aaa;
            font-size: 1rem;
        }
        
        .for-your-luck {
            font-size: 1.3rem;
            color: #fdbb2d;
            font-weight: bold;
            margin-top: 10px;
            letter-spacing: 1px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .prize-card {
                width: 100%;
            }
            
            .dice {
                width: 80px;
                height: 80px;
            }
            
            .game-btn {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Floating dice in background -->
    <div class="floating-dice" style="top: 10%; left: 5%;">üé≤</div>
    <div class="floating-dice" style="top: 20%; right: 8%;">üé≤</div>
    <div class="floating-dice" style="bottom: 15%; left: 10%;">üé≤</div>
    <div class="floating-dice" style="bottom: 25%; right: 5%;">üé≤</div>
    
    <div class="container">
        <header>
            <h1><i class="fas fa-dice"></i> Lucky Dice Number</h1>
            <p class="tagline">Bet 10 PKR - Win up to 10,000 PKR! Your luck decides!</p>
        </header>
        
        <div class="prizes">
            <div class="prize-card">
                <h3><i class="fas fa-crown"></i> Grand Prize</h3>
                <div class="amount">10,000 PKR</div>
                <small>Match all 4 dice with your number</small>
            </div>
            <div class="prize-card">
                <h3><i class="fas fa-gem"></i> Mega Prize</h3>
                <div class="amount">5,000 PKR</div>
                <small>Match 3 dice with your number</small>
            </div>
            <div class="prize-card">
                <h3><i class="fas fa-star"></i> Big Prize</h3>
                <div class="amount">1,000 PKR</div>
                <small>Match 2 dice with your number</small>
            </div>
        </div>
        
        <div class="game-area">
            <h2 style="text-align: center; color: #fdbb2d; margin-bottom: 25px; font-size: 1.8rem;">
                <i class="fas fa-magic"></i> Select Your Lucky Number
            </h2>
            
            <div class="number-selection">
                <button class="number-btn" data-number="1">1</button>
                <button class="number-btn" data-number="2">2</button>
                <button class="number-btn" data-number="3">3</button>
                <button class="number-btn" data-number="4">4</button>
                <button class="number-btn" data-number="5">5</button>
                <button class="number-btn" data-number="6">6</button>
            </div>
            
            <div class="selected-number-display">
                Your Selected Number: <span id="selected-number">Not selected yet</span>
            </div>
            
            <h2 style="text-align: center; color: #fdbb2d; margin: 35px 0 25px 0; font-size: 1.8rem;">
                <i class="fas fa-dice-d20"></i> Dice Roll Result
            </h2>
            <div class="dice-container">
                <div class="dice" id="dice1">
                    <div class="dice-face">
                        <!-- Dice dots will be added by JavaScript -->
                    </div>
                </div>
                <div class="dice" id="dice2">
                    <div class="dice-face"></div>
                </div>
                <div class="dice" id="dice3">
                    <div class="dice-face"></div>
                </div>
                <div class="dice" id="dice4">
                    <div class="dice-face"></div>
                </div>
            </div>
            
            <div class="controls">
                <button class="game-btn play-btn" id="play-btn" disabled>
                    <i class="fas fa-play-circle"></i> Play Game (10 PKR)
                </button>
                <button class="game-btn deposit-btn" id="deposit-btn">
                    <i class="fas fa-coins"></i> Deposit & Play
                </button>
            </div>
            
            <div class="processing" id="processing">
                <h3><i class="fas fa-spinner fa-spin"></i> Processing Transaction...</h3>
                <p>Transaction ID: <strong id="trx-id">XXXX-XXXX-XXXX</strong></p>
                <div class="countdown" id="countdown">3:00</div>
                <p>Please wait while we verify your transaction...</p>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>
            
            <div class="result" id="result">
                <!-- Result will be shown here -->
            </div>
            
            <div class="deposit-area" id="deposit-area">
                <h3 style="color: #fdbb2d; margin-bottom: 20px; font-size: 1.6rem;">
                    <i class="fas fa-wallet"></i> Deposit to Play
                </h3>
                <p style="margin-bottom: 20px; color: #ddd; line-height: 1.6;">
                    Send <strong>10 PKR</strong> (minimum bet) to the following account number. Then enter your transaction ID below.
                </p>
                
                <div class="input-group">
                    <label for="deposit-number"><i class="fas fa-credit-card"></i> Deposit Number:</label>
                    <input type="text" id="deposit-number" value="11223344" readonly>
                </div>
                
                <div class="input-group">
                    <label for="trx-input"><i class="fas fa-receipt"></i> Your Transaction ID:</label>
                    <input type="text" id="trx-input" placeholder="Enter the transaction ID from your payment" autocomplete="off">
                </div>
                
                <div class="input-group">
                    <label for="telegram-contact"><i class="fab fa-telegram"></i> Your Telegram ID (Optional):</label>
                    <input type="text" id="telegram-contact" placeholder="@your_telegram_username" autocomplete="off">
                </div>
                
                <p style="color: #ff7e5f; font-size: 0.95rem; margin-top: 20px; padding: 15px; background: rgba(255, 126, 95, 0.1); border-radius: 8px; border-left: 4px solid #ff7e5f;">
                    <strong><i class="fas fa-exclamation-triangle"></i> Important:</strong> Each Transaction ID can only be used once. Game will start automatically after 3 minutes of processing time.
                </p>
                
                <div style="text-align: center; margin-top: 25px;">
                    <button class="game-btn play-btn" id="submit-deposit">
                        <i class="fas fa-paper-plane"></i> Submit & Start Processing
                    </button>
                </div>
            </div>
        </div>
        
        <div class="rules">
            <h3><i class="fas fa-info-circle"></i> How to Play & Rules</h3>
            <div class="rules-grid">
                <div class="rule-item">
                    <h4><i class="fas fa-mouse-pointer"></i> Step 1: Select Number</h4>
                    <p>Choose your lucky number between 1 and 6 by clicking on it.</p>
                </div>
                <div class="rule-item">
                    <h4><i class="fas fa-money-bill-wave"></i> Step 2: Deposit</h4>
                    <p>Send 10 PKR to account number <strong>11223344</strong>.</p>
                </div>
                <div class="rule-item">
                    <h4><i class="fas fa-receipt"></i> Step 3: Enter TRX ID</h4>
                    <p>Enter your transaction ID in the field above. Each ID can be used only once.</p>
                </div>
                <div class="rule-item">
                    <h4><i class="fas fa-clock"></i> Step 4: Wait & Play</h4>
                    <p>Wait 3 minutes for processing, then click "Play Game" to roll the dice.</p>
                </div>
                <div class="rule-item">
                    <h4><i class="fas fa-award"></i> Winning Prizes</h4>
                    <p>Match 4 dice: 10,000 PKR | Match 3 dice: 5,000 PKR | Match 2 dice: 1,000 PKR</p>
                </div>
                <div class="rule-item">
                    <h4><i class="fab fa-telegram"></i> Winning Claim</h4>
                    <p>If you win, contact us on Telegram to claim your prize.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Lucky Dice Number Game - A game of chance and excitement</p>
            <div class="for-your-luck">For Your Luck! üçÄ</div>
            <p style="margin-top: 15px; font-size: 0.9rem;">¬© 2023 Lucky Dice Number. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Game variables
        let selectedNumber = null;
        let deposited = false;
        let usedTransactionIds = new Set();
        let processingTimer = null;
        let countdownTime = 180; // 3 minutes in seconds
        let telegramAddress = "@LuckyDiceSupport"; // YOU CAN CHANGE THIS
        
        // DOM elements
        const numberButtons = document.querySelectorAll('.number-btn');
        const selectedNumberDisplay = document.getElementById('selected-number');
        const playButton = document.getElementById('play-btn');
        const depositButton = document.getElementById('deposit-btn');
        const depositArea = document.getElementById('deposit-area');
        const processingArea = document.getElementById('processing');
        const resultArea = document.getElementById('result');
        const diceElements = [
            document.getElementById('dice1'),
            document.getElementById('dice2'),
            document.getElementById('dice3'),
            document.getElementById('dice4')
        ];
        
        // Dice face patterns (dot positions for each number 1-6)
        const dicePatterns = {
            1: ['dot-1'],
            2: ['dot-2', 'dot-3'],
            3: ['dot-1', 'dot-2', 'dot-3'],
            4: ['dot-4', 'dot-5', 'dot-6', 'dot-7'],
            5: ['dot-1', 'dot-4', 'dot-5', 'dot-6', 'dot-7'],
            6: ['dot-4', 'dot-5', 'dot-6', 'dot-7', 'dot-8', 'dot-9']
        };
        
        // Function to render dice face
        function renderDiceFace(diceElement, number) {
            const diceFace = diceElement.querySelector('.dice-face');
            diceFace.innerHTML = '';
            
            // Get the pattern for this number
            const pattern = dicePatterns[number];
            
            // Create dots based on pattern
            pattern.forEach(dotClass => {
                const dot = document.createElement('div');
                dot.className = `dice-dot ${dotClass}`;
                diceFace.appendChild(dot);
            });
        }
        
        // Function to animate dice roll
        function animateDiceRoll(diceElements) {
            let rollCount = 0;
            const maxRolls = 10;
            const rollInterval = setInterval(() => {
                // Generate random numbers for each dice
                diceElements.forEach((dice, index) => {
                    const randomNum = Math.floor(Math.random() * 6) + 1;
                    renderDiceFace(dice, randomNum);
                });
                
                rollCount++;
                
                // Stop animation after maxRolls
                if (rollCount >= maxRolls) {
                    clearInterval(rollInterval);
                }
            }, 100);
        }
        
        // Number selection
        numberButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove selected class from all buttons
                numberButtons.forEach(btn => btn.classList.remove('selected'));
                
                // Add selected class to clicked button
                button.classList.add('selected');
                
                // Set selected number
                selectedNumber = parseInt(button.getAttribute('data-number'));
                selectedNumberDisplay.textContent = selectedNumber;
                
                // Enable play button if already deposited
                if (deposited) {
                    playButton.disabled = false;
                }
            });
        });
        
        // Deposit button click
        depositButton.addEventListener('click', () => {
            depositArea.style.display = 'block';
            depositButton.disabled = true;
            // Clear any previous transaction ID
            document.getElementById('trx-input').value = '';
        });
        
        // Submit deposit
        document.getElementById('submit-deposit').addEventListener('click', () => {
            const trxInput = document.getElementById('trx-input').value.trim();
            
            if (!trxInput) {
                alert('Please enter your transaction ID');
                return;
            }
            
            // Check if transaction ID was already used
            if (usedTransactionIds.has(trxInput)) {
                alert('This transaction ID has already been used. Each ID can only be used once.');
                return;
            }
            
            // Add to used transaction IDs
            usedTransactionIds.add(trxInput);
            
            // Show processing area
            depositArea.style.display = 'none';
            processingArea.style.display = 'block';
            
            // Set transaction ID in processing
            document.getElementById('trx-id').textContent = trxInput;
            
            // Start countdown
            startCountdown();
        });
        
        // Start countdown function
        function startCountdown() {
            let timeLeft = countdownTime;
            const countdownElement = document.getElementById('countdown');
            const progressBar = document.getElementById('progress-bar');
            
            processingTimer = setInterval(() => {
                timeLeft--;
                
                // Update countdown display
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                countdownElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                // Update progress bar
                const progress = ((countdownTime - timeLeft) / countdownTime) * 100;
                progressBar.style.width = `${progress}%`;
                
                // When countdown finishes
                if (timeLeft <= 0) {
                    clearInterval(processingTimer);
                    processingArea.style.display = 'none';
                    deposited = true;
                    
                    // Enable play button if number is selected
                    if (selectedNumber) {
                        playButton.disabled = false;
                    }
                    
                    // Show success message
                    resultArea.className = 'result';
                    resultArea.classList.add('win');
                    resultArea.innerHTML = `
                        <h3><i class="fas fa-check-circle"></i> Deposit Processed Successfully!</h3>
                        <p>Your transaction has been verified. You can now play the game!</p>
                        <p>Click "Play Game" to roll the dice.</p>
                    `;
                    resultArea.style.display = 'block';
                    
                    // Auto-hide message after 5 seconds
                    setTimeout(() => {
                        resultArea.style.display = 'none';
                    }, 5000);
                }
            }, 1000);
        }
        
        // Play game button
        playButton.addEventListener('click', () => {
            if (!selectedNumber) {
                alert('Please select a number first');
                return;
            }
            
            if (!deposited) {
                alert('Please deposit first before playing');
                return;
            }
            
            // Disable play button during roll
            playButton.disabled = true;
            
            // Reset result area
            resultArea.style.display = 'none';
            
            // Start dice rolling animation
            diceElements.forEach(dice => {
                dice.classList.add('rolling');
            });
            
            // Animate dice rolling
            animateDiceRoll(diceElements);
            
            // Roll dice after 2 seconds
            setTimeout(() => {
                rollDice();
            }, 2000);
        });
        
        // Roll dice function - Simple win logic based on matches only
        function rollDice() {
            // Stop rolling animation
            diceElements.forEach(dice => {
                dice.classList.remove('rolling');
            });
            
            // Generate random dice results (1-6)
            const diceResults = [];
            for (let i = 0; i < 4; i++) {
                diceResults.push(Math.floor(Math.random() * 6) + 1);
            }
            
            // Display dice results with proper faces
            diceResults.forEach((result, index) => {
                renderDiceFace(diceElements[index], result);
            });
            
            // Check for matches
            const matches = diceResults.filter(result => result === selectedNumber).length;
            
            // Determine win based on matches only (NO win chance percentage)
            let winType = 'none';
            let winAmount = 0;
            
            // Simple win logic based only on matches
            if (matches >= 4) {
                winType = 'grand';
                winAmount = 10000;
            } else if (matches >= 3) {
                winType = 'mega';
                winAmount = 5000;
            } else if (matches >= 2) {
                winType = 'big';
                winAmount = 1000;
            } else {
                winType = 'none';
                winAmount = 0;
            }
            
            // Display result
            displayResult(matches, winType, winAmount, diceResults);
            
            // Reset deposited status for next game
            deposited = false;
        }
        
        // Display result function
        function displayResult(matches, winType, winAmount, diceResults) {
            resultArea.className = 'result';
            resultArea.style.display = 'block';
            
            // Get telegram ID from input if provided
            const userTelegram = document.getElementById('telegram-contact').value.trim() || 'Not provided';
            
            if (winAmount > 0) {
                resultArea.classList.add('win');
                
                let prizeName = '';
                let prizeIcon = '';
                
                switch(winType) {
                    case 'grand': 
                        prizeName = 'GRAND PRIZE'; 
                        prizeIcon = '<i class="fas fa-crown"></i>';
                        break;
                    case 'mega': 
                        prizeName = 'MEGA PRIZE'; 
                        prizeIcon = '<i class="fas fa-gem"></i>';
                        break;
                    case 'big': 
                        prizeName = 'BIG PRIZE'; 
                        prizeIcon = '<i class="fas fa-star"></i>';
                        break;
                }
                
                resultArea.innerHTML = `
                    <h3>${prizeIcon} CONGRATULATIONS! ${prizeIcon}</h3>
                    <p>Your number: <strong>${selectedNumber}</strong> | Dice results: ${diceResults.join(', ')}</p>
                    <p>You matched <strong>${matches} dice</strong> with your number!</p>
                    <p>You won the <strong>${prizeName}</strong>!</p>
                    <p style="font-size: 2.8rem; color: #fdbb2d; margin: 15px 0; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                        ${winAmount.toLocaleString()} PKR
                    </p>
                    
                    <div class="telegram-claim">
                        <h4><i class="fab fa-telegram"></i> How to Claim Your Prize:</h4>
                        <p>1. Take a screenshot of this winning screen</p>
                        <p>2. Contact us on Telegram: <strong>${telegramAddress}</strong></p>
                        <p>3. Send your screenshot and provide your receiving account details</p>
                        <p>4. We will transfer your prize within 24 hours</p>
                        <p style="margin-top: 10px; color: #ddd;">
                            Your Telegram ID: <strong>${userTelegram}</strong>
                        </p>
                        <p style="margin-top: 15px; color: #fdbb2d;">
                            <i class="fas fa-exclamation-circle"></i> Prize must be claimed within 7 days
                        </p>
                        
                        <!-- Telegram contact field for admin to add their address -->
                        <div class="telegram-input">
                            <input type="text" id="admin-telegram" placeholder="Enter your Telegram address here">
                            <button onclick="updateTelegramAddress()">Update</button>
                        </div>
                    </div>
                    
                    <p style="margin-top: 20px; font-size: 1.2rem;">For Your Luck! üçÄ</p>
                `;
            } else {
                resultArea.classList.add('lose');
                resultArea.innerHTML = `
                    <h3><i class="fas fa-dice"></i> No Win This Time</h3>
                    <p>Your number: <strong>${selectedNumber}</strong> | Dice results: ${diceResults.join(', ')}</p>
                    <p>You matched <strong>${matches} dice</strong> with your number.</p>
                    <p style="font-size: 1.8rem; margin: 20px 0; color: #ff7e5f;">Better luck next time!</p>
                    <p>Try again with a new deposit!</p>
                    <p style="margin-top: 20px; font-size: 1.2rem;">For Your Luck! üçÄ</p>
                `;
            }
            
            // Enable deposit button for next play
            depositButton.disabled = false;
        }
        
        // Function to update Telegram address (for admin)
        function updateTelegramAddress() {
            const newTelegram = document.getElementById('admin-telegram').value.trim();
            if (newTelegram) {
                telegramAddress = newTelegram;
                alert(`Telegram address updated to: ${telegramAddress}`);
                
                // Update the display in the result if it's open
                const telegramDisplay = document.querySelector('.telegram-claim strong');
                if (telegramDisplay) {
                    telegramDisplay.textContent = telegramAddress;
                }
            }
        }
        
        // Initialize game
        window.addEventListener('DOMContentLoaded', () => {
            // Hide deposit area initially
            depositArea.style.display = 'none';
            
            // Set initial dice faces to "?" by rendering face 1 and hiding dots
            diceElements.forEach(dice => {
                const diceFace = dice.querySelector('.dice-face');
                diceFace.innerHTML = '<div style="font-size: 2.5rem; color: #1a1a2e; font-weight: bold;">?</div>';
            });
            
            // Set default Telegram address in admin field
            document.getElementById('admin-telegram').value = telegramAddress;
        });
    </script>
</body>
</html>
